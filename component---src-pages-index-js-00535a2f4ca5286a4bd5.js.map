{"version":3,"sources":["webpack:///./src/pages/index.js"],"names":["query","IndexPage","data","totalElectionFinanceAmount","totalElectionsFinanceAmount","nodes","forEach","election","regions","region","constituencies","constituency","candidates","candidate","financeData","finance","income","total","outcome","Intl","NumberFormat","style","currency","minimumFractionDigits","format","title","className","styles","mainContentWrapper","fluid","desktopImage","childImageSharp","landingImgDesktop","mobileImage","landingImgMobile","titleBlockWrapper","titleWrapper","mobileHeading","desktopHeading","navBtnsWrapper","subtitle","to","fixed","coinImage"],"mappings":"+NAQaA,EAAK,aA4FHC,UA7CG,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACfC,EAA6B,EAmBjC,OAlBAD,EAAKE,4BAA4BC,MAAMC,SAAQ,SAACC,GAC9CA,EAASC,QAAQF,SAAQ,SAACG,GACxBA,EAAOC,eAAeJ,SAAQ,SAACK,GAC7BA,EAAaC,WAAWN,SAAQ,SAACO,GAC/B,IAAIC,EAAcD,EAAUE,QACR,OAAhBD,IACFX,GAA8BW,EAAYE,OAAOC,MACjDd,GAA8BW,EAAYI,QAAQD,mBAM5Dd,EAA6B,IAAIgB,KAAKC,aAAa,aAAc,CAC/DC,MAAO,WACPC,SAAU,MACVC,sBAAuB,IACtBC,OAAOrB,GAER,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAKsB,MAAM,cACX,yBAAKC,UAAYC,IAAOC,oBACtB,kBAAC,IAAD,CAAKC,MAAO3B,EAAK4B,aAAaC,gBAAgBF,MAAOH,UAAWC,IAAOK,oBACvE,kBAAC,IAAD,CAAKH,MAAO3B,EAAK+B,YAAYF,gBAAgBF,MAAOH,UAAWC,IAAOO,mBACtE,yBAAKR,UAAYC,IAAOQ,mBACtB,yBAAKT,UAAYC,IAAOS,cACtB,wBAAIV,UAAYC,IAAOU,eAAvB,yBACA,wBAAIX,UAAYC,IAAOW,gBAAvB,yBACA,8GAEF,yBAAKZ,UAAYC,IAAOY,gBACtB,0BAAMb,UAAYC,IAAOa,UAAzB,cACA,kBAAC,OAAD,CAAMC,GAAG,cACP,kBAAC,IAAD,CAAKC,MAAQxC,EAAKyC,UAAUZ,gBAAgBW,MAAOhB,UAAYC,IAAOgB,YACpExC,EAFJ","file":"component---src-pages-index-js-00535a2f4ca5286a4bd5.js","sourcesContent":["import React from \"react\"\nimport { Link, graphql } from \"gatsby\"\n\nimport Layout from \"../components/layout\"\nimport Img from \"gatsby-image\"\nimport SEO from \"../components/seo\"\nimport styles from \"../stylesheets/landing_page.module.sass\"\n\nexport const query = graphql`\n  query {\n    desktopImage: file(relativePath: { eq: \"mainvisual@3x.png\" }) {\n      childImageSharp {\n        fluid(maxWidth: 1440) {\n          ...GatsbyImageSharpFluid\n        }\n      }\n    }\n\n    mobileImage: file(relativePath: { eq: \"mainvisual-mobile.png\" }) {\n      childImageSharp {\n        fluid(maxWidth: 1440) {\n          ...GatsbyImageSharpFluid\n        }\n      }\n    }\n\n    coinImage: file(relativePath: { eq: \"index-coin.png\" }) {\n      childImageSharp {\n        fixed(width: 36) {\n          ...GatsbyImageSharpFixed\n        }\n      }\n    }\n\n    totalElectionsFinanceAmount: allElectionsJsonData(filter: { name: { ne: null } }) {\n      nodes {\n        regions {\n          constituencies {\n            candidates {\n              finance {\n                income {\n                  total\n                }\n                outcome {\n                  total\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\nconst IndexPage = ({ data }) => {\n  let totalElectionFinanceAmount = 0\n  data.totalElectionsFinanceAmount.nodes.forEach((election) => {\n    election.regions.forEach((region) => {\n      region.constituencies.forEach((constituency) => {\n        constituency.candidates.forEach((candidate) => {\n          let financeData = candidate.finance\n          if (financeData !== null) {\n            totalElectionFinanceAmount += financeData.income.total\n            totalElectionFinanceAmount += financeData.outcome.total\n          }\n        })\n      })\n    })\n  })\n  totalElectionFinanceAmount = new Intl.NumberFormat('zh-Hans-TW', {\n    style: 'currency',\n    currency: 'TWD',\n    minimumFractionDigits: 0\n  }).format(totalElectionFinanceAmount);\n  return (\n    <Layout>\n      <SEO title=\"首頁 | 金流百科\" />\n      <div className={ styles.mainContentWrapper }>\n        <Img fluid={data.desktopImage.childImageSharp.fluid} className={styles.landingImgDesktop} />\n        <Img fluid={data.mobileImage.childImageSharp.fluid} className={styles.landingImgMobile} />\n        <div className={ styles.titleBlockWrapper }>\n          <div className={ styles.titleWrapper}>\n            <h3 className={ styles.mobileHeading }>台灣為亞洲民主燈塔，選舉決定著我們的未來!</h3>\n            <h3 className={ styles.desktopHeading }>台灣為亞洲民主燈塔，選舉決定著我們的未來!</h3>\n            <p>將全面公開政治獻金、公投募款專戶金流，並與政府標案連結、視覺化，除了清楚的刻畫權力分配外，也利用簡單易理解的圖像，檢視各公職候選人、公投領銜人間的資源差距。</p>\n          </div>\n          <div className={ styles.navBtnsWrapper }>\n            <span className={ styles.subtitle } >選舉政治獻金累積資料</span>\n            <Link to=\"/elections\">\n              <Img fixed={ data.coinImage.childImageSharp.fixed} className={ styles.coinImage } />\n              { totalElectionFinanceAmount } 元\n            </Link>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  )\n}\n\nexport default IndexPage\n"],"sourceRoot":""}