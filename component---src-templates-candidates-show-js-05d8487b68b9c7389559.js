(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"5QjQ":function(e,t,a){"use strict";a.r(t);a("3nLz"),a("pJf4");var n=a("q1tI"),r=a.n(n),i=a("Wbzz"),l=a("9eSz"),c=a.n(l),o=a("Bl7J"),m=a("OsJn"),s=a("JU0Z"),u=a.n(s),d=a("BMyt"),p=(a("AqHK"),a("4DPX"),a("sc67"),a("E5k/"),{color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0}),h=n.createContext&&n.createContext(p),f=function(){return(f=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},E=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]])}return a};function v(e){return function(t){return n.createElement(y,f({attr:f({},e.attr)},t),function e(t){return t&&t.map((function(t,a){return n.createElement(t.tag,f({key:a},t.attr),e(t.child))}))}(e.child))}}function y(e){var t=function(t){var a,r=e.size||t.size||"1em";t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className);var i=e.attr,l=e.title,c=E(e,["attr","title"]);return n.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,c,{className:a,style:f({color:e.color||t.color},t.style,e.style),height:r,width:r,xmlns:"http://www.w3.org/2000/svg"}),l&&n.createElement("title",null,l),e.children)};return void 0!==h?n.createElement(h.Consumer,null,(function(e){return t(e)})):t(p)}var g=function(e){return v({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"}}]})(e)};g.displayName="FaAngleDown";function T(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}a.d(t,"query",(function(){return N})),a.d(t,"ElectedLabel",(function(){return C})),a.d(t,"CandidateFinanceBlock",(function(){return w})),a.d(t,"CandidateBlock",(function(){return k}));var N="1343173757",b=["#70add1","#fec58c","#e49ea2","#8b8181","#c6e1c2"],C=function(e){return e.isElected?r.a.createElement("h6",{className:u.a.isElected},"當選"):null},w=function(e){var t=e.finance;t=t||{income:{total:0,items:[{name:"無資料",amount:0}]},outcome:{total:0,items:[{name:"無資料",amount:0}]}};var a=new d.b(t);return r.a.createElement("div",{className:u.a.candidateFinanceBlock},r.a.createElement("div",{className:u.a.candidateFinanceDetailBlock},r.a.createElement(m.a,{height:"100px",chartType:"BarChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[a.incomeTitles,a.incomeAmounts],options:{title:null,isStacked:"relative",hAxis:{textPosition:"none",minValue:0},legend:{position:"none"},colors:d.d}}),r.a.createElement("h6",null,"總收入: ",a.incomeTotal)),r.a.createElement("div",{className:u.a.candidateFinanceDetailBlock},r.a.createElement(m.a,{height:"100px",chartType:"BarChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[a.outcomeTitles,a.outcomeAmounts],options:{title:null,isStacked:"relative",hAxis:{textPosition:"none",minValue:0},legend:{position:"none"},colors:d.e}}),r.a.createElement("h6",null,"總支出: ",a.outcomeTotal)))},k=function(e){var t=e.candidate;return r.a.createElement("div",{className:u.a.candidateBlockWrapper},r.a.createElement("div",{className:u.a.candidateBlock},r.a.createElement("div",{className:u.a.candidateInfo},r.a.createElement("div",{className:u.a.candidateNameWrapper},r.a.createElement("h6",{className:u.a.partyName},t.partyName||t.party),r.a.createElement("h1",{className:u.a.candidateName},r.a.createElement(i.Link,{to:"/candidates/"+t.alternative_id,className:u.a.candidateName},t.name))),r.a.createElement("div",{className:u.a.votingData},r.a.createElement("h6",null,"得票數:",t.numOfVote||t.num_of_vote),r.a.createElement("h6",null,"得票率: ",(t.rateOfVote||t.rate_of_vote)+"%"," "),r.a.createElement(C,{isElected:t.is_elected})))),r.a.createElement(w,{finance:t.finance_data}))},x=function(e){var t=e.financeData.map((function(e){return r.a.createElement("td",null,r.a.createElement("h6",null,new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.amount)," 元"),r.a.createElement("h6",null,e.item_count," 筆資料"),r.a.createElement("h6",null,"平均每筆",new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.amount/e.item_count)," 元"),r.a.createElement("h4",null,e.name))}));return r.a.createElement("div",{className:u.a.candidateFinanceTableWrapper},r.a.createElement("table",null,r.a.createElement("tr",null,t)))},F=function(e){function t(t){var a;return(a=e.call(this,t)||this).tenders=a.props.tenders,a.tendersTables=a.tenders.map((function(e){var t=new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.total_amount),a=e.item.length;return r.a.createElement(L,{tender:e,rowSpan:a,totalAmount:t})})),a}return T(t,e),t.prototype.render=function(){return r.a.createElement("div",null,0===this.tenders.length?r.a.createElement("h6",null,"無標案資料"):this.tendersTables)},t}(r.a.Component),L=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={displayTenderList:!1},a.toggleTenderList=a.toggleTenderList.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(a)),a}T(t,e);var a=t.prototype;return a.toggleTenderList=function(){this.setState((function(e){return{displayTenderList:!e.displayTenderList}}))},a.render=function(){return r.a.createElement("table",{className:u.a.tendersTable},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("h3",{className:u.a.tenderCompanyName},this.props.tender.name),r.a.createElement("h4",null,this.props.rowSpan," 件標案"),r.a.createElement("h4",{className:u.a.tenderTotalAmount},"總金額: ",this.props.totalAmount," 元"),r.a.createElement("h4",{className:u.a.dropdownToggler,onClick:this.toggleTenderList},r.a.createElement(g,null))))),r.a.createElement(D,{tendersList:this.props.tender.item,display:this.state.displayTenderList}))},t}(r.a.Component),D=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={display:a.props.display},a.tendersList=a.props.tendersList.map((function(e){var t=new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.amount);return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",{className:u.a.decisionDate},e.decisionDate),r.a.createElement("p",null,e.unit_name),r.a.createElement("p",null,e.title),r.a.createElement("p",{className:u.a.itemAmount},t," 元")))})),a}return T(t,e),t.prototype.render=function(){return r.a.createElement("tbody",null,this.props.display?this.tendersList:null)},t}(r.a.Component);t.default=function(e){var t,a,n=e.pageContext,l=e.data;null!==n.candidate.finance_data?(t=n.candidate.finance_data.income.top100,a=n.candidate.finance_data.outcome.top100):(t=[],a=[]);var s=t.map((function(e){return[e.type,e.object,e.amount]})),p=a.map((function(e){return[e.object,e.type,e.amount]}));return s.unshift(["From","To","金額"]),p.unshift(["To","From","金額"]),r.a.createElement(o.a,null,r.a.createElement(i.Link,{to:n.prevPath},"< 返回"),r.a.createElement(k,{candidate:n.candidate}),r.a.createElement("h3",{className:u.a.sankeyChartTitle},"百大收支"),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",margin:"0 auto",maxWidth:1280,padding:"0px 1.0875rem 1.45rem",paddingTop:0,justifyContent:"center"}},1===s.length?r.a.createElement("h6",null,"沒有資料"):r.a.createElement("div",{className:u.a.sankeyChartWrapper,style:{marginRight:"1rem"}},r.a.createElement(m.a,{forceIFrame:!1,width:360,height:"2000px",chartType:"Sankey",loader:r.a.createElement("div",null,"Loading Chart"),data:s,options:{sankey:{node:{labelPadding:0,nodePadding:5,width:20,colors:["#70add1","#fec58c","#e49ea2","#8b8181","#c6e1c2"]},link:{colorMode:"gradient"}}}}),r.a.createElement(x,{financeData:n.candidate.finance_data.income.items})),1===p.length?r.a.createElement("h6",null,"沒有資料"):r.a.createElement("div",{className:u.a.sankeyChartWrapper,style:{marginLeft:"1rem"}},r.a.createElement(m.a,{forceIFrame:!1,width:360,height:"2000px",chartType:"Sankey",loader:r.a.createElement("div",null,"Loading Chart"),data:p,options:{sankey:{node:{labelPadding:0,nodePadding:5,width:20,colors:b},link:{colorMode:"gradient"}}}}),r.a.createElement(x,{financeData:n.candidate.finance_data.outcome.items}))),r.a.createElement("h3",{className:u.a.tendersTableTitle},r.a.createElement(c.a,{fixed:l.billImage.childImageSharp.fixed,className:u.a.decorationImage}),r.a.createElement("br",null),"標案資料"),r.a.createElement(F,{tenders:n.candidate.tenders}),r.a.createElement("hr",null),r.a.createElement(d.c,{candidates:n.constituency.candidates}))}},BMyt:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return m})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return d}));a("pJf4");var n=a("q1tI"),r=a.n(n),i=a("vrtP"),l=a.n(i),c=a("OsJn"),o=["#70add1","#fec58c","#e49ea2","#8b8181","#c6e1c2"],m=["#70add1","#b4cedf","#fc8916","#fee8d0","#e49ea2","#f0cacd","#8b8181","#cbcbcb","#c6e1c2","#eaf4e9"],s=function(e,t){var a=e.income.items.map((function(e){return e.name})),n=e.income.items.map((function(e){return e.amount}));t=t||"",a.unshift("收入分佈"),n.unshift(t),this.incomeTitles=a,this.incomeAmounts=n;var r=e.outcome.items.map((function(e){return e.name})),i=e.outcome.items.map((function(e){return e.amount}));r.unshift("支出分佈"),i.unshift(t),this.outcomeTitles=r,this.outcomeAmounts=i,this.incomeTotal=new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.income.total),this.outcomeTotal=new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.outcome.total)},u=function(e){var t=e.finance,a=new s(t=t||{income:{total:0,items:[{name:"無資料",amount:0}]},outcome:{total:0,items:[{name:"無資料",amount:0}]}});return r.a.createElement("div",{className:l.a.candidateFinanceBlock},r.a.createElement("div",{className:l.a.candidateFinanceDetailBlock},r.a.createElement(c.a,{height:"100px",chartType:"BarChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[a.incomeTitles,a.incomeAmounts],options:{title:null,isStacked:"relative",hAxis:{textPosition:"none",minValue:0},legend:{position:"none"},colors:o}}),r.a.createElement("h6",null,"總收入: ",a.incomeTotal)),r.a.createElement("div",{className:l.a.candidateFinanceDetailBlock},r.a.createElement(c.a,{height:"100px",chartType:"BarChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[a.outcomeTitles,a.outcomeAmounts],options:{title:null,isStacked:"relative",hAxis:{textPosition:"none",minValue:0},legend:{position:"none"},colors:m}}),r.a.createElement("h6",null,"總支出: ",a.outcomeTotal)))},d=function(e){var t=e.candidates.map((function(e){var t=e.finance||{income:{total:0,items:[{name:"個人捐贈收入",amount:0},{name:"營利事業捐贈收入",amount:0},{name:"政黨捐贈收入",amount:0},{name:"人民團體捐贈收入",amount:0},{name:"匿名捐贈",amount:0},{name:"其他收入",amount:0}]},outcome:{total:0,items:[{name:"人事費用支出",amount:0},{name:"宣傳支出",amount:0},{name:"租用宣傳車輛支出",amount:0},{name:"租用競選辦事處支",amount:0},{name:"集會支出",amount:0},{name:"交通旅運支出",amount:0},{name:"雜支支出",amount:0},{name:"返還支出",amount:0},{name:"繳庫支出",amount:0},{name:"公共關係費用支出",amount:0}]}};return new s(t,e.name)})),a=t[0].incomeTitles,n=t[0].outcomeTitles,i=t.map((function(e){return e.incomeAmounts})),u=t.map((function(e){return e.outcomeAmounts}));return i.unshift(a),u.unshift(n),r.a.createElement("div",{className:l.a.candidatesFinanceCompareChart},r.a.createElement("div",{className:l.a.candidatesFinanceCompareChartWrapper},r.a.createElement("h3",null,"收入比較"),r.a.createElement(c.a,{chartType:"ColumnChart",height:"600px",loader:r.a.createElement("div",null,"Loading Chart"),data:i,options:{title:null,isStacked:!0,vAxis:{textPosition:"left",minValue:0},legend:{position:"none"},colors:o}})),r.a.createElement("div",{className:l.a.candidatesFinanceCompareChartWrapper},r.a.createElement("h3",null,"支出比較"),r.a.createElement(c.a,{chartType:"ColumnChart",height:"600px",loader:r.a.createElement("div",null,"Loading Chart"),data:u,options:{title:null,isStacked:!0,vAxis:{textPosition:"left",minValue:0},legend:{position:"none"},colors:m}})))}}}]);
//# sourceMappingURL=component---src-templates-candidates-show-js-05d8487b68b9c7389559.js.map