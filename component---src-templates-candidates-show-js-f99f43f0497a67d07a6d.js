(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"5QjQ":function(e,t,a){"use strict";a.r(t),a.d(t,"query",(function(){return T})),a.d(t,"ElectedLabel",(function(){return b})),a.d(t,"CandidateFinanceBlock",(function(){return C})),a.d(t,"CandidateBlock",(function(){return k}));a("q8oJ"),a("8npG"),a("nWfQ"),a("3nLz"),a("pJf4");var n=a("q1tI"),r=a.n(n),i=a("Wbzz"),c=a("9eSz"),o=a.n(c),l=a("Bl7J"),m=a("OsJn"),d=a("JU0Z"),u=a.n(d),s=a("BMyt"),p=a("ma3e");function h(e){return function(){var t,a=v(e);if(y()){var n=v(this).constructor;t=Reflect.construct(a,arguments,n)}else t=a.apply(this,arguments);return f(this,t)}}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var T="1343173757",N=["#70add1","#fec58c","#e49ea2","#8b8181","#c6e1c2"],b=function(e){return e.isElected?r.a.createElement("h6",{className:u.a.isElected},"當選"):null},C=function(e){var t=e.finance;t=t||{income:{total:0,items:[{name:"無資料",amount:0}]},outcome:{total:0,items:[{name:"無資料",amount:0}]}};var a=new s.b(t);return r.a.createElement("div",{className:u.a.candidateFinanceBlock},r.a.createElement("div",{className:u.a.candidateFinanceDetailBlock},r.a.createElement(m.a,{height:"100px",chartType:"BarChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[a.incomeTitles,a.incomeAmounts],options:{title:null,isStacked:"relative",hAxis:{textPosition:"none",minValue:0},legend:{position:"none"},colors:s.d}}),r.a.createElement("h6",null,"總收入: ",a.incomeTotal)),r.a.createElement("div",{className:u.a.candidateFinanceDetailBlock},r.a.createElement(m.a,{height:"100px",chartType:"BarChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[a.outcomeTitles,a.outcomeAmounts],options:{title:null,isStacked:"relative",hAxis:{textPosition:"none",minValue:0},legend:{position:"none"},colors:s.e}}),r.a.createElement("h6",null,"總支出: ",a.outcomeTotal)))},k=function(e){var t=e.candidate;return r.a.createElement("div",{className:u.a.candidateBlockWrapper},r.a.createElement("div",{className:u.a.candidateBlock},r.a.createElement("div",{className:u.a.candidateInfo},r.a.createElement("div",{className:u.a.candidateNameWrapper},r.a.createElement("h6",{className:u.a.partyName},t.partyName||t.party),r.a.createElement("h1",{className:u.a.candidateName},r.a.createElement(i.Link,{to:"/candidates/"+t.alternative_id,className:u.a.candidateName},t.name))),r.a.createElement("div",{className:u.a.votingData},r.a.createElement("h6",null,"得票數:",t.numOfVote||t.num_of_vote),r.a.createElement("h6",null,"得票率: ",(t.rateOfVote||t.rate_of_vote)+"%"," "),r.a.createElement(b,{isElected:t.is_elected})))),r.a.createElement(C,{finance:t.finance_data}))},F=function(e){var t=e.financeData.map((function(e){return r.a.createElement("td",null,r.a.createElement("h6",null,new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.amount)," 元"),r.a.createElement("h6",null,e.item_count," 筆資料"),r.a.createElement("h6",null,"平均每筆",new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.amount/e.item_count)," 元"),r.a.createElement("h4",null,e.name))}));return r.a.createElement("div",{className:u.a.candidateFinanceTableWrapper},r.a.createElement("table",null,r.a.createElement("tr",null,t)))},w=function(e){g(t,e);h(t);function t(t){var a;return(a=e.call(this,t)||this).tenders=a.props.tenders,a.tendersTables=a.tenders.map((function(e){var t=new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.total_amount),a=e.item.length;return r.a.createElement(x,{tender:e,rowSpan:a,totalAmount:t})})),a}return t.prototype.render=function(){return r.a.createElement("div",null,0===this.tenders.length?r.a.createElement("h6",null,"無標案資料"):this.tendersTables)},t}(r.a.Component),x=function(e){g(t,e);h(t);function t(t){var a;return(a=e.call(this,t)||this).state={displayTenderList:!1},a.toggleTenderList=a.toggleTenderList.bind(E(a)),a}var a=t.prototype;return a.toggleTenderList=function(){this.setState((function(e){return{displayTenderList:!e.displayTenderList}}))},a.render=function(){return r.a.createElement("table",{className:u.a.tendersTable},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("h3",{className:u.a.tenderCompanyName},this.props.tender.name),r.a.createElement("h4",null,this.props.rowSpan," 件標案"),r.a.createElement("h4",{className:u.a.tenderTotalAmount},"總金額: ",this.props.totalAmount," 元"),r.a.createElement("h4",{className:u.a.dropdownToggler,onClick:this.toggleTenderList},r.a.createElement(p.a,null))))),r.a.createElement(W,{tendersList:this.props.tender.item,display:this.state.displayTenderList}))},t}(r.a.Component),W=function(e){g(t,e);h(t);function t(t){var a;return(a=e.call(this,t)||this).state={display:a.props.display},a.tendersList=a.props.tendersList.map((function(e){var t=new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.amount);return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("span",{className:u.a.decisionDate},e.decisionDate),r.a.createElement("p",null,e.unit_name),r.a.createElement("p",null,e.title),r.a.createElement("p",{className:u.a.itemAmount},t," 元")))})),a}return t.prototype.render=function(){return r.a.createElement("tbody",null,this.props.display?this.tendersList:null)},t}(r.a.Component);t.default=function(e){var t,a,n=e.pageContext,c=e.data;null!==n.candidate.finance_data?(t=n.candidate.finance_data.income.top100,a=n.candidate.finance_data.outcome.top100):(t=[],a=[]);var d=t.map((function(e){return[e.type,e.object,e.amount]})),p=a.map((function(e){return[e.object,e.type,e.amount]}));return d.unshift(["From","To","金額"]),p.unshift(["To","From","金額"]),r.a.createElement(l.a,null,r.a.createElement(i.Link,{to:n.prevPath},"< 返回"),r.a.createElement(k,{candidate:n.candidate}),r.a.createElement("h3",{className:u.a.sankeyChartTitle},"百大收支"),r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",margin:"0 auto",maxWidth:1280,padding:"0px 1.0875rem 1.45rem",paddingTop:0,justifyContent:"center"}},1===d.length?r.a.createElement("h6",null,"沒有資料"):r.a.createElement("div",{className:u.a.sankeyChartWrapper,style:{marginRight:"1rem"}},r.a.createElement(m.a,{forceIFrame:!1,width:360,height:"2000px",chartType:"Sankey",loader:r.a.createElement("div",null,"Loading Chart"),data:d,options:{sankey:{node:{labelPadding:0,nodePadding:5,width:20,colors:["#70add1","#fec58c","#e49ea2","#8b8181","#c6e1c2"]},link:{colorMode:"gradient"}}}}),r.a.createElement(F,{financeData:n.candidate.finance_data.income.items})),1===p.length?r.a.createElement("h6",null,"沒有資料"):r.a.createElement("div",{className:u.a.sankeyChartWrapper,style:{marginLeft:"1rem"}},r.a.createElement(m.a,{forceIFrame:!1,width:360,height:"2000px",chartType:"Sankey",loader:r.a.createElement("div",null,"Loading Chart"),data:p,options:{sankey:{node:{labelPadding:0,nodePadding:5,width:20,colors:N},link:{colorMode:"gradient"}}}}),r.a.createElement(F,{financeData:n.candidate.finance_data.outcome.items}))),r.a.createElement("h3",{className:u.a.tendersTableTitle},r.a.createElement(o.a,{fixed:c.billImage.childImageSharp.fixed,className:u.a.decorationImage}),r.a.createElement("br",null),"標案資料"),r.a.createElement(w,{tenders:n.candidate.tenders}),r.a.createElement("hr",null),r.a.createElement(s.c,{candidates:n.constituency.candidates}))}},BMyt:function(e,t,a){"use strict";a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return m})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return s}));a("pJf4");var n=a("q1tI"),r=a.n(n),i=a("vrtP"),c=a.n(i),o=a("OsJn"),l=["#70add1","#fec58c","#e49ea2","#8b8181","#c6e1c2"],m=["#70add1","#b4cedf","#fc8916","#fee8d0","#e49ea2","#f0cacd","#8b8181","#cbcbcb","#c6e1c2","#eaf4e9"],d=function(e,t){var a=e.income.items.map((function(e){return e.name})),n=e.income.items.map((function(e){return e.amount}));t=t||"",a.unshift("收入分佈"),n.unshift(t),this.incomeTitles=a,this.incomeAmounts=n;var r=e.outcome.items.map((function(e){return e.name})),i=e.outcome.items.map((function(e){return e.amount}));r.unshift("支出分佈"),i.unshift(t),this.outcomeTitles=r,this.outcomeAmounts=i,this.incomeTotal=new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.income.total),this.outcomeTotal=new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.outcome.total)},u=function(e){var t=e.finance,a=new d(t=t||{income:{total:0,items:[{name:"無資料",amount:0}]},outcome:{total:0,items:[{name:"無資料",amount:0}]}});return r.a.createElement("div",{className:c.a.candidateFinanceBlock},r.a.createElement("div",{className:c.a.candidateFinanceDetailBlock},r.a.createElement(o.a,{height:"100px",chartType:"BarChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[a.incomeTitles,a.incomeAmounts],options:{title:null,isStacked:"relative",hAxis:{textPosition:"none",minValue:0},legend:{position:"none"},colors:l}}),r.a.createElement("h6",null,"總收入: ",a.incomeTotal)),r.a.createElement("div",{className:c.a.candidateFinanceDetailBlock},r.a.createElement(o.a,{height:"100px",chartType:"BarChart",loader:r.a.createElement("div",null,"Loading Chart"),data:[a.outcomeTitles,a.outcomeAmounts],options:{title:null,isStacked:"relative",hAxis:{textPosition:"none",minValue:0},legend:{position:"none"},colors:m}}),r.a.createElement("h6",null,"總支出: ",a.outcomeTotal)))},s=function(e){var t=e.candidates.map((function(e){var t=e.finance||{income:{total:0,items:[{name:"個人捐贈收入",amount:0},{name:"營利事業捐贈收入",amount:0},{name:"政黨捐贈收入",amount:0},{name:"人民團體捐贈收入",amount:0},{name:"匿名捐贈",amount:0},{name:"其他收入",amount:0}]},outcome:{total:0,items:[{name:"人事費用支出",amount:0},{name:"宣傳支出",amount:0},{name:"租用宣傳車輛支出",amount:0},{name:"租用競選辦事處支",amount:0},{name:"集會支出",amount:0},{name:"交通旅運支出",amount:0},{name:"雜支支出",amount:0},{name:"返還支出",amount:0},{name:"繳庫支出",amount:0},{name:"公共關係費用支出",amount:0}]}};return new d(t,e.name)})),a=t[0].incomeTitles,n=t[0].outcomeTitles,i=t.map((function(e){return e.incomeAmounts})),u=t.map((function(e){return e.outcomeAmounts}));return i.unshift(a),u.unshift(n),r.a.createElement("div",{className:c.a.candidatesFinanceCompareChart},r.a.createElement("div",{className:c.a.candidatesFinanceCompareChartWrapper},r.a.createElement("h3",null,"收入比較"),r.a.createElement(o.a,{chartType:"ColumnChart",height:"600px",loader:r.a.createElement("div",null,"Loading Chart"),data:i,options:{title:null,isStacked:!0,vAxis:{textPosition:"left",minValue:0},legend:{position:"none"},colors:l}})),r.a.createElement("div",{className:c.a.candidatesFinanceCompareChartWrapper},r.a.createElement("h3",null,"支出比較"),r.a.createElement(o.a,{chartType:"ColumnChart",height:"600px",loader:r.a.createElement("div",null,"Loading Chart"),data:u,options:{title:null,isStacked:!0,vAxis:{textPosition:"left",minValue:0},legend:{position:"none"},colors:m}})))}},JU0Z:function(e,t,a){e.exports={candidateBlockWrapper:"candidate-module--candidateBlockWrapper--1d6RN",candidateBlock:"candidate-module--candidateBlock--1oEtD",candidateName:"candidate-module--candidateName--2XFrJ",candidateInfo:"candidate-module--candidateInfo--2hZq7",candidateNameWrapper:"candidate-module--candidateNameWrapper--2OORb",partyName:"candidate-module--partyName--2LAYC",votingData:"candidate-module--votingData--338m6",isElected:"candidate-module--isElected--38U-d",sankeyChartTitle:"candidate-module--sankeyChartTitle--20AzZ",tendersTableTitle:"candidate-module--tendersTableTitle--1JuVk",sankeyChartWrapper:"candidate-module--sankeyChartWrapper--1P3oc",candidateFinanceTableWrapper:"candidate-module--candidateFinanceTableWrapper--3Yp0g",tendersTable:"candidate-module--tendersTable--3Ryto",dropdownToggler:"candidate-module--dropdownToggler--2vVRg",tenderCompanyName:"candidate-module--tenderCompanyName--1aTHL",tenderTotalAmount:"candidate-module--tenderTotalAmount--2XnNN",decisionDate:"candidate-module--decisionDate--3Em5S",itemAmount:"candidate-module--itemAmount--PXxFm",candidateFinanceBlock:"candidate-module--candidateFinanceBlock--2khW9",candidateFinanceDetailBlock:"candidate-module--candidateFinanceDetailBlock--hI9dT",candidatesFinanceCompareChart:"candidate-module--candidatesFinanceCompareChart--2rjy-",candidatesFinanceCompareChartWrapper:"candidate-module--candidatesFinanceCompareChartWrapper--6oH-s"}},Lnxd:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a("AqHK"),a("4DPX"),a("sc67"),a("E5k/");var n=a("q1tI"),r={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=n.createContext&&n.createContext(r),c=function(){return(c=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},o=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&(a[n[r]]=e[n[r]])}return a};function l(e){return function(t){return n.createElement(m,c({attr:c({},e.attr)},t),function e(t){return t&&t.map((function(t,a){return n.createElement(t.tag,c({key:a},t.attr),e(t.child))}))}(e.child))}}function m(e){var t=function(t){var a,r=e.size||t.size||"1em";t.className&&(a=t.className),e.className&&(a=(a?a+" ":"")+e.className);var i=e.attr,l=e.title,m=o(e,["attr","title"]);return n.createElement("svg",c({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,m,{className:a,style:c({color:e.color||t.color},t.style,e.style),height:r,width:r,xmlns:"http://www.w3.org/2000/svg"}),l&&n.createElement("title",null,l),e.children)};return void 0!==i?n.createElement(i.Consumer,null,(function(e){return t(e)})):t(r)}}}]);
//# sourceMappingURL=component---src-templates-candidates-show-js-f99f43f0497a67d07a6d.js.map