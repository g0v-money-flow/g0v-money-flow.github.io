(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{217:function(e,t,n){"use strict";n.r(t);n(108),n(46);var r=n(0),a=n.n(r),o=n(47),l=n(80),i=n.n(l),c=n(213),s=n(221),u=n(228),d=n.n(u),p=n(220),m=(n(28),n(38),n(22),n(17),{color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0}),h=r.createContext&&r.createContext(m),f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]])}return n};function v(e){return function(t){return r.createElement(y,f({attr:f({},e.attr)},t),function e(t){return t&&t.map((function(t,n){return r.createElement(t.tag,f({key:n},t.attr),e(t.child))}))}(e.child))}}function y(e){var t=function(t){var n,a=e.size||t.size||"1em";t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className);var o=e.attr,l=e.title,i=g(e,["attr","title"]);return r.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,i,{className:n,style:f({color:e.color||t.color},t.style,e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),l&&r.createElement("title",null,l),e.children)};return void 0!==h?r.createElement(h.Consumer,null,(function(e){return t(e)})):t(m)}var C=function(e){return v({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"}}]})(e)};C.displayName="FaAngleDown";function b(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"query",(function(){return E})),n.d(t,"ElectedLabel",(function(){return w})),n.d(t,"CandidateFinanceBlock",(function(){return D})),n.d(t,"CandidateBlock",(function(){return O}));var E="1343173757",T=["#70add1","#fec58c","#e49ea2","#8b8181","#c6e1c2"],w=function(e){return e.isElected?a.a.createElement("h6",{className:d.a.isElected},"當選"):null},D=function(e){var t=e.finance;t=t||{income:{total:0,items:[{name:"無資料",amount:0}]},outcome:{total:0,items:[{name:"無資料",amount:0}]}};var n=new p.b(t);return a.a.createElement("div",{className:d.a.candidateFinanceBlock},a.a.createElement("div",{className:d.a.candidateFinanceDetailBlock},a.a.createElement(s.a,{height:"100px",chartType:"BarChart",loader:a.a.createElement("div",null,"Loading Chart"),data:[n.incomeTitles,n.incomeAmounts],options:{title:null,isStacked:"relative",hAxis:{textPosition:"none",minValue:0},legend:{position:"none"},colors:p.d}}),a.a.createElement("h6",null,"總收入: ",n.incomeTotal)),a.a.createElement("div",{className:d.a.candidateFinanceDetailBlock},a.a.createElement(s.a,{height:"100px",chartType:"BarChart",loader:a.a.createElement("div",null,"Loading Chart"),data:[n.outcomeTitles,n.outcomeAmounts],options:{title:null,isStacked:"relative",hAxis:{textPosition:"none",minValue:0},legend:{position:"none"},colors:p.e}}),a.a.createElement("h6",null,"總支出: ",n.outcomeTotal)))},O=function(e){var t=e.candidate;return a.a.createElement("div",{className:d.a.candidateBlockWrapper},a.a.createElement("div",{className:d.a.candidateBlock},a.a.createElement("div",{className:d.a.candidateInfo},a.a.createElement("div",{className:d.a.candidateNameWrapper},a.a.createElement("h6",{className:d.a.partyName},t.partyName||t.party),a.a.createElement("h1",{className:d.a.candidateName},a.a.createElement(o.Link,{to:"/candidates/"+t.alternative_id,className:d.a.candidateName},t.name))),a.a.createElement("div",{className:d.a.votingData},a.a.createElement("h6",null,"得票數:",t.numOfVote||t.num_of_vote),a.a.createElement("h6",null,"得票率: ",(t.rateOfVote||t.rate_of_vote)+"%"," "),a.a.createElement(w,{isElected:t.is_elected})))),a.a.createElement(D,{finance:t.finance_data}))},k=function(e){var t=e.financeData.map((function(e){return a.a.createElement("td",null,a.a.createElement("h6",null,new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.amount)," 元"),a.a.createElement("h6",null,e.item_count," 筆資料"),a.a.createElement("h6",null,"平均每筆",new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.amount/e.item_count)," 元"),a.a.createElement("h4",null,e.name))}));return a.a.createElement("div",{className:d.a.candidateFinanceTableWrapper},a.a.createElement("table",null,a.a.createElement("tr",null,t)))},L=function(e){function t(t){var n;return(n=e.call(this,t)||this).tenders=n.props.tenders,n.tendersTables=n.tenders.map((function(e){var t=new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.total_amount),n=e.item.length;return a.a.createElement(_,{tender:e,rowSpan:n,totalAmount:t})})),n}return b(t,e),t.prototype.render=function(){return a.a.createElement("div",null,0===this.tenders.length?a.a.createElement("h6",null,"無標案資料"):this.tendersTables)},t}(a.a.Component),_=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={displayTenderList:!1},n.toggleTenderList=n.toggleTenderList.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}b(t,e);var n=t.prototype;return n.toggleTenderList=function(){this.setState((function(e){return{displayTenderList:!e.displayTenderList}}))},n.render=function(){return a.a.createElement("table",{className:d.a.tendersTable},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,a.a.createElement("h3",{className:d.a.tenderCompanyName},this.props.tender.name),a.a.createElement("h4",null,this.props.rowSpan," 件標案"),a.a.createElement("h4",{className:d.a.tenderTotalAmount},"總金額: ",this.props.totalAmount," 元"),a.a.createElement("h4",{className:d.a.dropdownToggler,onClick:this.toggleTenderList},a.a.createElement(C,null))))),a.a.createElement(P,{tendersList:this.props.tender.item,display:this.state.displayTenderList}))},t}(a.a.Component),P=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={display:n.props.display},n.tendersList=n.props.tendersList.map((function(e){var t=new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.amount);return a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("span",{className:d.a.decisionDate},e.decisionDate),a.a.createElement("p",null,e.unit_name),a.a.createElement("p",null,e.title),a.a.createElement("p",{className:d.a.itemAmount},t," 元")))})),n}return b(t,e),t.prototype.render=function(){return a.a.createElement("tbody",null,this.props.display?this.tendersList:null)},t}(a.a.Component);t.default=function(e){var t,n,r=e.pageContext,l=e.data;null!==r.candidate.finance_data?(t=r.candidate.finance_data.income.top100,n=r.candidate.finance_data.outcome.top100):(t=[],n=[]);var u=t.map((function(e){return[e.type,e.object,e.amount]})),m=n.map((function(e){return[e.object,e.type,e.amount]}));return u.unshift(["From","To","金額"]),m.unshift(["To","From","金額"]),a.a.createElement(c.a,null,a.a.createElement(o.Link,{to:r.prevPath},"< 返回"),a.a.createElement(O,{candidate:r.candidate}),a.a.createElement("h3",{className:d.a.sankeyChartTitle},"百大收支"),a.a.createElement("div",{style:{display:"flex",flexWrap:"wrap",margin:"0 auto",maxWidth:1280,padding:"0px 1.0875rem 1.45rem",paddingTop:0,justifyContent:"center"}},1===u.length?a.a.createElement("h6",null,"沒有資料"):a.a.createElement("div",{className:d.a.sankeyChartWrapper,style:{marginRight:"1rem"}},a.a.createElement(s.a,{forceIFrame:!1,width:360,height:"2000px",chartType:"Sankey",loader:a.a.createElement("div",null,"Loading Chart"),data:u,options:{sankey:{node:{labelPadding:0,nodePadding:5,width:20,colors:["#70add1","#fec58c","#e49ea2","#8b8181","#c6e1c2"]},link:{colorMode:"gradient"}}}}),a.a.createElement(k,{financeData:r.candidate.finance_data.income.items})),1===m.length?a.a.createElement("h6",null,"沒有資料"):a.a.createElement("div",{className:d.a.sankeyChartWrapper,style:{marginLeft:"1rem"}},a.a.createElement(s.a,{forceIFrame:!1,width:360,height:"2000px",chartType:"Sankey",loader:a.a.createElement("div",null,"Loading Chart"),data:m,options:{sankey:{node:{labelPadding:0,nodePadding:5,width:20,colors:T},link:{colorMode:"gradient"}}}}),a.a.createElement(k,{financeData:r.candidate.finance_data.outcome.items}))),a.a.createElement("h3",{className:d.a.tendersTableTitle},a.a.createElement(i.a,{fixed:l.billImage.childImageSharp.fixed,className:d.a.decorationImage}),a.a.createElement("br",null),"標案資料"),a.a.createElement(L,{tenders:r.candidate.tenders}),a.a.createElement("hr",null),a.a.createElement(p.c,{candidates:r.constituency.candidates}))}},220:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p}));n(46);var r=n(0),a=n.n(r),o=n(222),l=n.n(o),i=n(221),c=["#70add1","#fec58c","#e49ea2","#8b8181","#c6e1c2"],s=["#70add1","#b4cedf","#fc8916","#fee8d0","#e49ea2","#f0cacd","#8b8181","#cbcbcb","#c6e1c2","#eaf4e9"],u=function(e,t){var n=e.income.items.map((function(e){return e.name})),r=e.income.items.map((function(e){return e.amount}));t=t||"",n.unshift("收入分佈"),r.unshift(t),this.incomeTitles=n,this.incomeAmounts=r;var a=e.outcome.items.map((function(e){return e.name})),o=e.outcome.items.map((function(e){return e.amount}));a.unshift("支出分佈"),o.unshift(t),this.outcomeTitles=a,this.outcomeAmounts=o,this.incomeTotal=new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.income.total),this.outcomeTotal=new Intl.NumberFormat("zh-Hans-TW",{style:"currency",currency:"TWD",minimumFractionDigits:0}).format(e.outcome.total)},d=function(e){var t=e.finance,n=new u(t=t||{income:{total:0,items:[{name:"無資料",amount:0}]},outcome:{total:0,items:[{name:"無資料",amount:0}]}});return a.a.createElement("div",{className:l.a.candidateFinanceBlock},a.a.createElement("div",{className:l.a.candidateFinanceDetailBlock},a.a.createElement(i.a,{height:"100px",chartType:"BarChart",loader:a.a.createElement("div",null,"Loading Chart"),data:[n.incomeTitles,n.incomeAmounts],options:{title:null,isStacked:"relative",hAxis:{textPosition:"none",minValue:0},legend:{position:"none"},colors:c}}),a.a.createElement("h6",null,"總收入: ",n.incomeTotal)),a.a.createElement("div",{className:l.a.candidateFinanceDetailBlock},a.a.createElement(i.a,{height:"100px",chartType:"BarChart",loader:a.a.createElement("div",null,"Loading Chart"),data:[n.outcomeTitles,n.outcomeAmounts],options:{title:null,isStacked:"relative",hAxis:{textPosition:"none",minValue:0},legend:{position:"none"},colors:s}}),a.a.createElement("h6",null,"總支出: ",n.outcomeTotal)))},p=function(e){var t=e.candidates.map((function(e){var t=e.finance||{income:{total:0,items:[{name:"個人捐贈收入",amount:0},{name:"營利事業捐贈收入",amount:0},{name:"政黨捐贈收入",amount:0},{name:"人民團體捐贈收入",amount:0},{name:"匿名捐贈",amount:0},{name:"其他收入",amount:0}]},outcome:{total:0,items:[{name:"人事費用支出",amount:0},{name:"宣傳支出",amount:0},{name:"租用宣傳車輛支出",amount:0},{name:"租用競選辦事處支",amount:0},{name:"集會支出",amount:0},{name:"交通旅運支出",amount:0},{name:"雜支支出",amount:0},{name:"返還支出",amount:0},{name:"繳庫支出",amount:0},{name:"公共關係費用支出",amount:0}]}};return new u(t,e.name)})),n=t[0].incomeTitles,r=t[0].outcomeTitles,o=t.map((function(e){return e.incomeAmounts})),d=t.map((function(e){return e.outcomeAmounts}));return o.unshift(n),d.unshift(r),a.a.createElement("div",{className:l.a.candidatesFinanceCompareChart},a.a.createElement("div",{className:l.a.candidatesFinanceCompareChartWrapper},a.a.createElement("h3",null,"收入比較"),a.a.createElement(i.a,{chartType:"ColumnChart",height:"600px",loader:a.a.createElement("div",null,"Loading Chart"),data:o,options:{title:null,isStacked:!0,vAxis:{textPosition:"left",minValue:0},legend:{position:"none"},colors:c}})),a.a.createElement("div",{className:l.a.candidatesFinanceCompareChartWrapper},a.a.createElement("h3",null,"支出比較"),a.a.createElement(i.a,{chartType:"ColumnChart",height:"600px",loader:a.a.createElement("div",null,"Loading Chart"),data:d,options:{title:null,isStacked:!0,vAxis:{textPosition:"left",minValue:0},legend:{position:"none"},colors:s}})))}},221:function(e,t,n){"use strict";n(59),n(58),n(148),n(28),n(39),n(60),n(149),n(150),n(48),n(38),n(49),n(5),n(17),n(57),n(107);var r=n(0),a=n(223),o=n.n(a),l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function s(e,t,n,r){return new(n||(n=Promise))((function(a,o){function l(e){try{c(r.next(e))}catch(t){o(t)}}function i(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){e.done?a(e.value):new n((function(t){t(e.value)})).then(l,i)}c((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=(a=l.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(i){o=[6,i],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}var d={graph_id:null,legend_toggle:!1,graphID:null,options:{colors:null},data:null,rows:null,columns:null,diffdata:null,chartEvents:null,legendToggle:!1,chartActions:null,getChartWrapper:function(e,t){},getChartEditor:null,className:"",style:{},formatters:null,spreadSheetUrl:null,spreadSheetQueryParameters:{headers:1,gid:1},rootProps:{},chartWrapperParams:{},controls:null,render:null,toolbarItems:null,toolbarID:null},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleGoogleChartsLoaderScriptLoaded=function(e){var n=t.props,r=n.chartVersion,a=n.chartPackages,o=n.chartLanguage,l=n.mapsApiKey,i=n.onLoad;e.charts.load(r||"current",{packages:a||["corechart","controls"],language:o||"en",mapsApiKey:l}),e.charts.setOnLoadCallback((function(){i(e)}))},t}return i(t,e),t.prototype.shouldComponentUpdate=function(e){return e.chartPackages===this.props.chartPackages},t.prototype.render=function(){var e=this,t=this.props.onError;return Object(r.createElement)(o.a,{url:"https://www.gstatic.com/charts/loader.js",onError:t,onLoad:function(){var t=window;t.google&&e.handleGoogleChartsLoaderScriptLoaded(t.google)}})},t}(r.Component),m=0,h=function(){return"reactgooglegraph-"+(m+=1)},f=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#3B3EAC"],g=function(e,t,n){return void 0===n&&(n={}),s(void 0,void 0,void 0,(function(){return u(this,(function(r){return[2,new Promise((function(r,a){var o=n.headers?"headers="+n.headers:"headers=0",l=n.query?"&tq="+encodeURIComponent(n.query):"",i=n.gid?"&gid="+n.gid:"",c=n.sheet?"&sheet="+n.sheet:"",s=n.access_token?"&access_token="+n.access_token:"",u=t+"/gviz/tq?"+(""+o+i+c+l+s);new e.visualization.Query(u).send((function(e){e.isError()?a("Error in query:  "+e.getMessage()+" "+e.getDetailedMessage()):r(e.getDataTable())}))}))]}))}))},v=Object(r.createContext)(d),y=v.Provider,C=v.Consumer,b=function(e){var t=e.children,n=e.value;return Object(r.createElement)(y,{value:n},t)},E=function(e){var t=e.render;return Object(r.createElement)(C,null,(function(e){return t(e)}))},T="#CCCCCC",w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hiddenColumns:[]},t.listenToLegendToggle=function(){var e=t.props,n=e.google,r=e.googleChartWrapper;n.visualization.events.addListener(r,"select",(function(){var e=r.getChart().getSelection(),n=r.getDataTable();if(0!==e.length&&null===e[0].row&&null!==n){var a=e[0].column,o=t.getColumnID(n,a);t.state.hiddenColumns.includes(o)?t.setState((function(e){return c({},e,{hiddenColumns:e.hiddenColumns.filter((function(e){return e!==o})).slice()})})):t.setState((function(e){return c({},e,{hiddenColumns:e.hiddenColumns.concat([o])})}))}}))},t.applyFormatters=function(e,n){for(var r=t.props.google,a=0,o=n;a<o.length;a++){var l=o[a];switch(l.type){case"ArrowFormat":(i=new r.visualization.ArrowFormat(l.options)).format(e,l.column);break;case"BarFormat":(i=new r.visualization.BarFormat(l.options)).format(e,l.column);break;case"ColorFormat":for(var i=new r.visualization.ColorFormat(l.options),c=0,s=l.ranges;c<s.length;c++){var u=s[c];i.addRange.apply(i,u)}i.format(e,l.column);break;case"DateFormat":(i=new r.visualization.DateFormat(l.options)).format(e,l.column);break;case"NumberFormat":(i=new r.visualization.NumberFormat(l.options)).format(e,l.column);break;case"PatternFormat":(i=new r.visualization.PatternFormat(l.options)).format(e,l.column)}}},t.getColumnID=function(e,t){return e.getColumnId(t)||e.getColumnLabel(t)},t.draw=function(e){var n=e.data,r=e.diffdata,a=e.rows,o=e.columns,l=e.options,i=e.legend_toggle,c=e.legendToggle,d=e.chartType,p=e.formatters,m=e.spreadSheetUrl,h=e.spreadSheetQueryParameters;return s(t,void 0,void 0,(function(){var e,t,s,f,v,y,C,b,E,T,w,D,O,k;return u(this,(function(u){switch(u.label){case 0:return e=this.props,t=e.google,s=e.googleChartWrapper,v=null,null!==r&&(y=t.visualization.arrayToDataTable(r.old),C=t.visualization.arrayToDataTable(r.new),v=t.visualization[d].prototype.computeDiff(y,C)),null===n?[3,1]:(f=Array.isArray(n)?t.visualization.arrayToDataTable(n):new t.visualization.DataTable(n),[3,5]);case 1:return null===a||null===o?[3,2]:(f=t.visualization.arrayToDataTable([o].concat(a)),[3,5]);case 2:return null===m?[3,4]:[4,g(t,m,h)];case 3:return f=u.sent(),[3,5];case 4:f=t.visualization.arrayToDataTable([]),u.label=5;case 5:for(b=f.getNumberOfColumns(),E=0;E<b;E+=1)T=this.getColumnID(f,E),this.state.hiddenColumns.includes(T)&&(w=f.getColumnLabel(E),D=f.getColumnId(E),O=f.getColumnType(E),f.removeColumn(E),f.addColumn({label:w,id:D,type:O}));return k=s.getChart(),"Timeline"===s.getChartType()&&k&&k.clearChart(),s.setChartType(d),s.setOptions(l),s.setDataTable(f),s.draw(),null!==this.props.googleChartDashboard&&this.props.googleChartDashboard.draw(f),null!==v&&(s.setDataTable(v),s.draw()),null!==p&&(this.applyFormatters(f,p),s.setDataTable(f),s.draw()),!0!==c&&!0!==i||this.grayOutHiddenColumns({options:l}),[2]}}))}))},t.grayOutHiddenColumns=function(e){var n=e.options,r=t.props.googleChartWrapper,a=r.getDataTable();if(null!==a){var o=a.getNumberOfColumns();if(!1!==t.state.hiddenColumns.length>0){var l=Array.from({length:o-1}).map((function(e,r){var o=t.getColumnID(a,r+1);return t.state.hiddenColumns.includes(o)?T:void 0!==n.colors&&null!==n.colors?n.colors[r]:f[r]}));r.setOptions(c({},n,{colors:l})),r.draw()}}},t.onResize=function(){t.props.googleChartWrapper.draw()},t}return i(t,e),t.prototype.componentDidMount=function(){this.draw(this.props),window.addEventListener("resize",this.onResize),(this.props.legend_toggle||this.props.legendToggle)&&this.listenToLegendToggle()},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.google,n=e.googleChartWrapper;window.removeEventListener("resize",this.onResize),t.visualization.events.removeAllListeners(n),"Timeline"===n.getChartType()&&n.getChart()&&n.getChart().clearChart()},t.prototype.componentDidUpdate=function(){this.draw(this.props)},t.prototype.render=function(){return null},t}(r.Component),D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.componentDidMount=function(){},t.prototype.componentWillUnmount=function(){},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){var e=this.props,t=e.google,n=e.googleChartWrapper,a=e.googleChartDashboard;return Object(r.createElement)(E,{render:function(e){return Object(r.createElement)(w,c({},e,{google:t,googleChartWrapper:n,googleChartDashboard:a}))}})},t}(r.Component),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.listenToEvents=function(e){var t=this,n=e.chartEvents,r=e.google,a=e.googleChartWrapper;if(null!==n){r.visualization.events.removeAllListeners(a);for(var o=function(e){var n=e.eventName,o=e.callback;r.visualization.events.addListener(a,n,(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];o({chartWrapper:a,props:t.props,google:r,eventArgs:e})}))},l=0,i=n;l<i.length;l++){o(i[l])}}},t.prototype.render=function(){var e=this,t=this.props,n=t.google,a=t.googleChartWrapper;return Object(r.createElement)(E,{render:function(t){return e.listenToEvents({chartEvents:t.chartEvents||null,google:n,googleChartWrapper:a}),null}})},t}(r.Component),k=0,L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={googleChartWrapper:null,googleChartDashboard:null,googleChartControls:null,googleChartEditor:null,isReady:!1},t.graphID=null,t.dashboard_ref=Object(r.createRef)(),t.toolbar_ref=Object(r.createRef)(),t.getGraphID=function(){var e,n=t.props,r=n.graphID,a=n.graph_id;return e=null===r&&null===a?null===t.graphID?h():t.graphID:null!==r&&null===a?r:null!==a&&null===r?a:r,t.graphID=e,t.graphID},t.getControlID=function(e,t){return k+=1,void 0===e?"googlechart-control-"+t+"-"+k:e},t.addControls=function(e,n){var r=t.props,a=r.google,o=r.controls,l=null===o?null:o.map((function(e,n){var r=e.controlID,o=e.controlType,l=e.options,i=e.controlWrapperParams,s=t.getControlID(r,n);return{controlProp:e,control:new a.visualization.ControlWrapper(c({containerId:s,controlType:o,options:l},i))}}));if(null===l)return null;n.bind(l.map((function(e){return e.control})),e);for(var i=function(n){for(var r=n.control,o=n.controlProp.controlEvents,l=function(n){var o=n.callback,l=n.eventName;a.visualization.events.removeListener(r,l,o),a.visualization.events.addListener(r,l,(function(){for(var n=[],l=0;l<arguments.length;l++)n[l]=arguments[l];o({chartWrapper:e,controlWrapper:r,props:t.props,google:a,eventArgs:n})}))},i=0,c=void 0===o?[]:o;i<c.length;i++){l(c[i])}},s=0,u=l;s<u.length;s++){i(u[s])}return l},t.renderChart=function(){var e=t.props,n=e.width,a=e.height,o=e.options,l=e.style,i=e.className,s=e.rootProps,u=e.google,d=c({height:a||o&&o.height,width:n||o&&o.width},l);return Object(r.createElement)("div",c({id:t.getGraphID(),style:d,className:i},s),t.state.isReady&&null!==t.state.googleChartWrapper?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(D,{googleChartWrapper:t.state.googleChartWrapper,google:u,googleChartDashboard:t.state.googleChartDashboard}),Object(r.createElement)(O,{googleChartWrapper:t.state.googleChartWrapper,google:u})):null)},t.renderControl=function(e){return void 0===e&&(e=function(e){e.control,e.controlProp;return!0}),t.state.isReady&&null!==t.state.googleChartControls?Object(r.createElement)(r.Fragment,null,t.state.googleChartControls.filter((function(t){var n=t.controlProp,r=t.control;return e({control:r,controlProp:n})})).map((function(e){var t=e.control;e.controlProp;return Object(r.createElement)("div",{key:t.getContainerId(),id:t.getContainerId()})}))):null},t.renderToolBar=function(){return null===t.props.toolbarItems?null:Object(r.createElement)("div",{ref:t.toolbar_ref})},t}return i(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.options,n=e.google,r=e.chartType,a=e.chartWrapperParams,o=e.toolbarItems,l=e.getChartEditor,i=e.getChartWrapper,s=c({chartType:r,options:t,containerId:this.getGraphID()},a),u=new n.visualization.ChartWrapper(s);u.setOptions(t),i(u,n);var d=new n.visualization.Dashboard(this.dashboard_ref),p=this.addControls(u,d);null!==o&&n.visualization.drawToolbar(this.toolbar_ref.current,o);var m=null;null!==l&&l({chartEditor:m=new n.visualization.ChartEditor,chartWrapper:u,google:n}),this.setState({googleChartEditor:m,googleChartControls:p,googleChartDashboard:d,googleChartWrapper:u,isReady:!0})},t.prototype.componentDidUpdate=function(){if(null!==this.state.googleChartWrapper&&null!==this.state.googleChartDashboard&&null!==this.state.googleChartControls)for(var e=this.props.controls,t=0;t<e.length;t+=1){var n=e[t],r=n.controlType,a=n.options,o=n.controlWrapperParams;o&&"state"in o&&this.state.googleChartControls[t].control.setState(o.state),this.state.googleChartControls[t].control.setOptions(a),this.state.googleChartControls[t].control.setControlType(r)}},t.prototype.shouldComponentUpdate=function(e,t){return this.state.isReady!==t.isReady||e.controls!==this.props.controls},t.prototype.render=function(){var e=this.props,t=e.width,n=e.height,a=e.options,o=e.style,l=c({height:n||a&&a.height,width:t||a&&a.width},o);return null!==this.props.render?Object(r.createElement)("div",{ref:this.dashboard_ref,style:l},Object(r.createElement)("div",{ref:this.toolbar_ref,id:"toolbar"}),this.props.render({renderChart:this.renderChart,renderControl:this.renderControl,renderToolbar:this.renderToolBar})):Object(r.createElement)("div",{ref:this.dashboard_ref,style:l},this.renderControl((function(e){return"bottom"!==e.controlProp.controlPosition})),this.renderChart(),this.renderControl((function(e){return"bottom"===e.controlProp.controlPosition})),this.renderToolBar())},t}(r.Component),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isMounted=!1,t.state={loadingStatus:"loading",google:null},t.onLoad=function(e){if(t.isFullyLoaded(e))t.onSuccess(e);else var n=setInterval((function(){var e=window.google;t._isMounted?e&&t.isFullyLoaded(e)&&(clearInterval(n),t.onSuccess(e)):clearInterval(n)}),1e3)},t.onSuccess=function(e){t.setState({loadingStatus:"ready",google:e})},t.onError=function(){t.setState({loadingStatus:"errored"})},t}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.chartLanguage,n=e.chartPackages,a=e.chartVersion,o=e.mapsApiKey,l=e.loader,i=e.errorElement;return Object(r.createElement)(b,{value:this.props},"ready"===this.state.loadingStatus&&null!==this.state.google?Object(r.createElement)(L,c({},this.props,{google:this.state.google})):"errored"===this.state.loadingStatus&&i?i:l,Object(r.createElement)(p,c({},{chartLanguage:t,chartPackages:n,chartVersion:a,mapsApiKey:o},{onLoad:this.onLoad,onError:this.onError})))},t.prototype.componentDidMount=function(){this._isMounted=!0},t.prototype.componentWillUnmount=function(){this._isMounted=!1},t.prototype.isFullyLoaded=function(e){var t=this.props,n=t.controls,r=t.toolbarItems,a=t.getChartEditor;return e&&e.visualization&&e.visualization.ChartWrapper&&e.visualization.Dashboard&&(!n||e.visualization.ChartWrapper)&&(!a||e.visualization.ChartEditor)&&(!r||e.visualization.drawToolbar)},t.defaultProps=d,t}(r.Component);t.a=_},223:function(e,t,n){"use strict";n(13),n(11),n(5),n(21),n(29),n(107),n(57),n(61),Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),l=(r=o)&&r.__esModule?r:{default:r},i=n(40);var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scriptLoaderId="id"+n.constructor.idCount++,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.onError,n=e.onLoad,r=e.url;this.constructor.loadedScripts[r]?n():this.constructor.erroredScripts[r]?t():this.constructor.scriptObservers[r]?this.constructor.scriptObservers[r][this.scriptLoaderId]=this.props:(this.constructor.scriptObservers[r]=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.scriptLoaderId,this.props),this.createScript())}},{key:"componentWillUnmount",value:function(){var e=this.props.url,t=this.constructor.scriptObservers[e];t&&delete t[this.scriptLoaderId]}},{key:"createScript",value:function(){var e=this,t=this.props,n=t.onCreate,r=t.url,a=t.attributes,o=document.createElement("script");n(),a&&Object.keys(a).forEach((function(e){return o.setAttribute(e,a[e])})),o.src=r,o.hasAttribute("async")||(o.async=1);var l=function(t){var n=e.constructor.scriptObservers[r];Object.keys(n).forEach((function(a){t(n[a])&&delete e.constructor.scriptObservers[r][e.scriptLoaderId]}))};o.onload=function(){e.constructor.loadedScripts[r]=!0,l((function(e){return e.onLoad(),!0}))},o.onerror=function(){e.constructor.erroredScripts[r]=!0,l((function(e){return e.onError(),!0}))},document.body.appendChild(o)}},{key:"render",value:function(){return null}}]),t}(l.default.Component);c.propTypes={attributes:i.PropTypes.object,onCreate:i.PropTypes.func,onError:i.PropTypes.func.isRequired,onLoad:i.PropTypes.func.isRequired,url:i.PropTypes.string.isRequired},c.defaultProps={attributes:{},onCreate:function(){},onError:function(){},onLoad:function(){}},c.scriptObservers={},c.loadedScripts={},c.erroredScripts={},c.idCount=0,t.default=c,e.exports=t.default}}]);
//# sourceMappingURL=component---src-templates-candidates-show-js-8ba8476473d9e48bee3d.js.map